# DB 정규화, 커넥션 풀

- 이상 현상, 정규화, 역정규화
- DB 커넥션 풀

## 면접 질문

### 이상 현상의 개념에 대해 설명해주세요.

이상 현상은 테이블을 설계할 때 잘못 설계하여 데이터를 삽입,삭제,수정할 때 생기는 논리적 오류를 말합니다.

### 이상 현상의 종류에 대해 설명해주세요.

삽입 이상 : 자료를 삽입할 때 특정 속성에 해당하는 값이 없어 NULL을 입력해야 하는 현상

갱신 이상 : 중복된 데이터 중 일부만 수정되어 데이터 모순이 일어나는 현상

삭제 이상 : 어떤 정보를 삭제하면, 의도하지 않은 다른 정보까지 삭제되어버리는 현상

이러한 이상 현상을 예방하고 효과적인 연산을 하기 위해 데이터 정규화를 합니다.

### 정규화란 무엇인가요 ?

하나의 릴레이션에 하나의 의미만 존재하도록 릴레이션을 분해하는 과정이며, 데이터의 일관성, 최소한의 데이터 중복, 최대한의 데이터 유연성을 위한 방법입니다.

### 정규화의 종류에 대해 설명해주세요.

제1 정규형 : 테이블의 컬럼이 원자 값(Atomic Value; 하나의 값)을 갖도록 분해합니다.

제2 정규형: 제1 정규형을 만족하고, 기본키가 아닌 속성이 기본키에 완전 함수 종속이도록 분해합니다.

※ 여기서 완전 함수 종속이란 기본키의 부분집합이 다른 값을 결정하지 않는 것을 의미

제3 정규형 : 제2 정규형을 만족하고, 이행적 함수 종속을 없애도록 분해합니다.

※ 여기서 이행적 종속이란 A → B, B → C가 성립할 때 A → C가 성립되는 것을 의미

BCNF 정규형 : 제3 정규형을 만족하고, 함수 종속성 X → Y가 성립할 때 모든 결정자 X가 후보키가 되도록 분해합니다.

### 정규화의 장점과 단점에 대해 설명해주세요.

장점은 데이터베이스 변경 시 이상현상이 발생하는 문제점을 해결할 수 있고, 데이터베이스 구조 확장 시 정규화된 데이터베이스는 그 구조를 변경하지 않아도 되거나 일부만 변경해도 된다는 장점이 있습니다.

단점으로는  릴레이션의 분해로 인해 릴레이션 간의 연산(JOIN 연산)이 많아집니다. 이로인해 질의에 대한 응답 시간이 느려질 수 있습니다.

### 역정규화를 하는 이유에 대해 설명해주세요.

정규화를 거치면 릴레이션 간의 연산(JOIN 연산)이 많아지는데, 이로인해 성능이 저하될 우려가 있습니다.역정규화를 하는 가장 큰 이유는 성능 문제가 있는(읽기작업이 많이 필요한) DB의 전반적인 성능을 향상시키기 위함입니다.

### ConnectionPool이란 무엇인가요 ?

DB와의 커넥션 객체를 미리 할당을 해서 Pool에 넣어둔다. 이후 DB연결 요청이 들어왔을때 Pool의 있는 Connection을 사용하고, 작업이 끝나면 반납하는 방식입니다. Connection을 잇는 작업을 중복으로 처리되지 않도록해서 성능을 올리는 방법입니다.

### **Connection Pool을 왜 쓰나요 ?**

Connection Pool을 사용할경우, 연결이 되어있는 Connection이 이미 Pool에 있기 때문에, Connection을 매번 지어줄 필요가 없게 됩니다.
따라서, 기존의 작업을 할때마다 conection을 맺고 끊는 과정을 줄여서 성능을 향상시킬 수 있습니다.

## Ref

이상현상, 정규화 : https://dev-coco.tistory.com/158

커넥션 풀 : [https://burning-camp.tistory.com/91#Connection%--Pool�%-D%--%--�%--%-C%--�%--%B-�%-A%--�%B-%--%-F](https://burning-camp.tistory.com/91#Connection%25--Pool%EC%25-D%25--%25--%EC%25--%25-C%25--%EC%25--%25B-%EB%25-A%25--%EA%25B-%25--%25-F)

https://kafcamus.tistory.com/47
