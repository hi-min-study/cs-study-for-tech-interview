- Spring 심화
  - AOP
    - Spring AOP 어노테이션
    - JDK Dynamic Proxy
    - CGLIB
  - @transactional
  - interceptor
    - filter와 차이점
  - 직렬화, 역직렬화
  - Spring 전체 동작과정

## 예상 질문
- AOP에 대해서 설명해주세요
  - AOP는 Aspect Oriented Programming의 약자로 ‘관점 지향 프로그래밍’ 입니다.
  - 관점 지향은 어떤 로직을 기준으로 핵심적인 관점, 부가적인 관점으로 나누어서 보고 그 관점을 기준으로 각각 모듈화하겠다는 것입니다.
- AOP를 적용하는 3가지 방법에 대해서 설명해주세요
  - 1. **컴파일 시점**: aspectJ와 같은 AOP framework가 소스코드를 컴파일하기 전에 공통 구현 코드를 소스에 삽입하는 방식
  - 2. **클래스 로딩 시점**: 클래스를 로딩할 때 부가기능을 삽입
  - 3. **런타임 시점**: Spring AOP. proxy 객체를 만들어 객체가 공통 기능을 호출하는 방식
- spring에서는 aop를 어떤 식으로 구현하고 있나요?
  - 프록시 기반으로 AOP를 구현하고 있고, Runtime weaving을 통해서 관심사를 추출하고 있다.
- spring에서 aop의 동작 과정에 대해서 설명해주세요.
  - 1. TargetObjectImple이 Bean으로 등록이되면,
  - 2. 스프링이 AbstractAutoProxyCreator라는 BeanPostProcessor(어떤 Bean이 등록되면, 그 Bean을 가공할 수 있는 life-cycle interface)로 TargetObjectImple이라는 Bean을 감싸는 프록시 Bean을 만듬
    - 1. 어드바이저 내의 포인트컷을 이용해 전달받은 빈이 프록시 적용 대상인지 확인
    - 2. 프록시 생성기가 프록시 생성 대상 빈들을 대상으로 프록시 객체를 생성
    - 3. 빈 후처리기는 프록시를 생성한 빈이라면 프록시 객체를, 그렇지 않으면 그냥 빈을 반환
  - 3. 그 프록시 Bean을 TargetObjectImple 대신에 등록해준다.
- JDK Dynamic Proxy와 CGLIB Proxy에 대해서 설명해주세요
  - JDK Proxy
    - Interface를 기반으로 Proxy를 생성해주는 방식
    - Invocation Handler를 상속 받아 실체를 구현함
    - 특정 Object에 대해 Reflection을 사용하기 때문에 성능이 조금 떨어짐
  - CGLIB Proxy
    - Enhancer를 바탕으로 Proxy를 구현하는 방식
    - Extends(상속) 방식을 이용해서 Proxy화 할 메서드를 오버라이딩 하는 방식
    - 타깃 클래스에 대한 바이트 코드를 조작하여 Proxy를 생성하기 때문에 JDK Dynamic Proxy보다 성능적으로 더 우세
    - final 객체 혹은 private 접근자로 된 메서드는 상속(Override)가 지원되지 않기 때문에 제약적인 Proxy 구현이 가능하다는 것
- @Transactional의 동작 원리에 대해서 설명해주세요
  - @Transactional을 메소드 또는 클래스에 명시하면 AOP를 통해 Target이 상속하고 있는 인터페이스 또는 Target 객체를 상속한 Proxy 객체가 생성되며, Proxy 객체의 메소드를 호출하면 Target 메소드 전 후로 트랜잭션 처리를 수행한다.
- @Transactional의 어노테이션의 옵션에 대해서 아는대로 설명해주세요
  - 격리 수준을 결정하는 isolation level, 읽기 전용으로 설정할 수 있는 readOnly 옵션, 전파 레벨을 설정하는 propagation 등이 있습니다. 
- private 메소드에 @Transactional을 적용할 수 있나요? 그렇게 생각한 이유도 설명해주세요.
  - 적용할 수 없습니다. spring에서는 Transactional을 프록시 방식을 통해서 적용하고 있으므로, 프록시 객체는 타겟 오브젝트의 private 메서드는 접근하지 못 하기 때문에 적용이 되지 않습니다.
- 모든 exception에 대해 Transaction이 rollback되는 것은 아닌데, 어떤 경우에는 rollback되고, 어떤 경우에서는 rollback 되지 않나요?
  - error와 unchecked exception은 rollback 되지만 checked exception은 rollback 되지 않습니다. 따라서, 그 경우는 따로 예외 처리를 해줘야 합니다. 
- 자바 직렬화는 무엇이고, 왜 사용하나요?
  - 자바 시스템 내부에서 사용되는 객체 또는 데이터를 외부의 자바 시스템에서도 사용할 수 있도록 바이트(byte) 형태로 데이터 변환하는 기술을 말합니다.
  - JVM의 메모리에서만 상주되어있는 객체 데이터를 그대로 영속화(Persistence)가 필요할 때 사용합니다. 개인적으로는 캐시 데이터를 저장할 때 사용해본 경험이 있습니다.
