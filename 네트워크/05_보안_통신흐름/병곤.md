# 보안

## CORS

- **CORS에 대해 설명해주세요**
    - CORS(Cross-Origin Resource Sharing)는 다른 도메인에서 실행 중인 웹 페이지가 현재 도메인의 리소스에 접근할 수 있도록 허용하거나 거부하는 정책입니다.
    - 웹은 기본적으로 SOP(Same-Origin Policy) 정책을 가지고 있어서 다른 출처의 리소스 접근을 제한합니다. 필요한 경우 CORS 정책을 통해 이를 허용해야 합니다.

- **실제 CORS 요청 과정에 대해 설명해주세요**
    - **예비 요청 (Preflight Request)**
        - HTTP 메소드를 OPTIONS로 설정하여 서버에 보냅니다.
        - 서버로부터 허용 응답을 받으면 본 요청을 보냅니다.
    - **단순 요청 (Simple Request)**
        - 예비 요청 없이 바로 서버에 본 요청을 보냅니다.
    - **인증된 요청 (Authenticated Request)**
        - 서버에 인증 정보(예: 세션 ID, 토큰)를 담아 요청을 보냅니다.

## XSS

- **XSS에 대해 설명해주세요**
    - XSS(Cross-Site Scripting)는 웹 애플리케이션의 보안 취약점을 이용하여 공격자가 사용자의 웹 브라우저 상에서 악의적인 스크립트를 실행시킬 수 있는 공격 기법입니다.

- **XSS 공격 유형에 대해 설명해주세요**
    1. **저장형(Stored) XSS**
        - 공격자가 웹 서버에 악의적인 스크립트를 저장합니다.
    2. **반사형(Reflected) XSS**
        - 공격자가 사용자에게 특정 링크를 클릭하게 하여 스크립트를 실행시킵니다.
    3. **DOM 기반(DOM-based) XSS**
        - 웹 페이지의 DOM을 동적으로 변경하여 스크립트를 실행시킵니다.

- **XSS 방지 방법에 대해 설명해주세요**
    - 사용자 입력 검증
    - 입력 산출 이스케이프 처리
    - 콘텐츠 보안 정책(CSP) 적용
    - HTTPOnly 및 Secure 쿠키 플래그 사용

## SQL Injection

- **SQL Injection이란?**
    - SQL Injection은 웹 애플리케이션에서 사용자의 입력을 제대로 처리하지 않아 발생하는 보안 취약점입니다. 공격자는 악의적인 SQL 쿼리를 통해 데이터베이스를 조작할 수 있습니다.

- **SQL Injection 방어 전략에 대해 설명해주세요**
    1. **입력값 검증**
        - 사용자 입력을 엄격하게 검증합니다.
    2. **PreparedStatement 사용**
        - 사용자 입력을 파라미터로 전달합니다.
    3. **ORM 사용**
        - SQL 쿼리를 직접 작성하지 않고 ORM 프레임워크를 사용합니다.
    4. **최소 권한 원칙 적용**
        - 데이터베이스 접근에 필요한 최소한의 권한만 부여합니다.
    5. **에러 메시지 관리**
        - 사용자에게 노출되는 에러 메시지를 관리합니다.

## CSRF

- **CSRF 공격이란?**
    - CSRF(Cross-Site Request Forgery)는 사용자가 로그인한 상태에서 공격자가 준비한 악의적인 요청을 서버에 전송하게 만드는 공격입니다.

- **CSRF 방어 전략에 대해 설명해주세요**
    1. **CSRF 토큰 사용**
        - 모든 폼과 AJAX 요청에 유니크한 CSRF 토큰을 포함시킵니다.
    2. **SameSite 쿠키 속성 설정**
        - 쿠키가 동일한 사이트에서만 전송되도록 합니다.
    3. **Referer 검증**
        - 요청이 신뢰할 수 있는 소스로부터 발생했는지 확인합니다.
    4. **사용자 인증 요구**
        - 중요한 작업을 수행하기 전에 추가적인 사용자 인증을 요구합니다.

## 웹 통신의 흐름

- **google.com을 입력했을 때 동작과정을 설명해주세요**
    1. **DNS 조회**
        - "https://google.com"의 IP 주소를 얻기 위해 DNS 서버에 조회합니다.
    2. **IP 주소로의 라우팅 (Network Layer)**
        - DNS 서버로부터 받은 IP 주소를 바탕으로, 데이터 패킷은 인터넷을 통해 목적지 서버로 라우팅됩니다. 이 라우팅 과정은 네트워크 계층(Network Layer)에서 일어납니다.
        - 라우터들은 IP 헤더 정보를 사용하여 최적의 경로를 결정하고, 패킷을 해당 방향으로 전달합니다.
    3. **데이터 링크 (Data Link Layer)**
        -  MAC 주소를 사용하여 직접 연결된 장치들 간의 데이터를 전송합니다.
    4. **TCP 연결 및 TLS 핸드셰이크 (Transport Layer)**
        - TCP 연결을 통해 3-way handshake를 수행하여 신뢰할 수 있는 연결을 구축합니다. 이 과정은 전송 계층(Transport Layer)에서 발생합니다.
    5. **HTTPS 요청 및 응답 (Application Layer)**
        - 서버는 요청을 처리하고 암호화된 웹 페이지 데이터를 전송합니다.
    6. **콘텐츠 렌더링 및 외부 자원 로딩 (Application Layer)**
        - 브라우저는 웹 페이지를 해석하여 사용자에게 표시합니다.
